<section class="controls-area text-center space-y-6">
    <app-visualizer [mediaStream]="mediaStream()" [isRecording]="isRecording()"></app-visualizer>

    <app-permission-check
      [permissionStatus]="permissionStatus()"
      [recorderError]="recorderError()"
      (requestPermission)="requestAudioPermission()" />
    
    @if (permissionStatus() === 'granted') {
      <app-record-control
        [isRecording]="isRecording()"
        (start)="startRecording()"
        (stop)="stopRecording()" />
    }      
</section>

<section class="clips-area">
    <app-clip-list [clips]="audioClips()" (deleteClip)="deleteClip($event)" 
        [(selectedClip)]="selectedClip"
    />
</section>

@if (selectedClip(); as selectedClip) {
{{ `Transcribe ${selectedClip.name}`}}
}